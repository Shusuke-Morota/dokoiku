

<div class="container mt-5">
	<div class="row">
		<div class="col-8 mx-auto">
			<h2 style="font-weight: bold;">プラン一覧</h2>
			<table class="table table-hover">
				<thead class="index-title">
					<tr>
						<th scope="col">タイトル</th>
						<th scope="col">写真</th>
						<th scope="col">投稿者</th>
						<th scope="col"></th>
						<th scope="col">カテゴリー</th>
					</tr>
				</thead>
				<tbody class="index-body">
					<% @articles.each do |article| %>
					<tr>
						<td class="article-title">
							<%= link_to article.title, article_path(article) %>
						</td>

						<td>
							<%= attachment_image_tag article, :image, :fill, 100, 100, format: 'jpeg' %>
						</td>

						<td class="article-username">
							<%= link_to article.user.name, user_path(article.user_id) %>
						</td>

						<td>
							<% if current_user.already_favorited?(article) %>
							<%= link_to article_favorites_path(article), method: :delete do %>
							<i class="fas fa-thumbs-up"></i>
							<% end %>
							<% else %>
							<%= link_to article_favorites_path(article), method: :post  do %>
							<i class="far fa-thumbs-up"></i>
							<% end %>
							<% end %>
							<%= article.favorites.count %>
						</td>
						<td><%= article.category.name %></td>
					</tr>
					<% end %>
				</tbody>
			</table>
			<div class="pagination" style="justify-content: center;">
				<%= paginate @articles %>
			</div>
		</div>
	</div>
</div>
